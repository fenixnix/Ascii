<script type="text/javascript">
    var swProxyBasePath = decodeURI("https\x3A\x2F\x2Fswapp.singlewindow.cn\x3A443\x2Fqspserver\x2F");
    var host = "swapp.singlewindow.cn\x3A443";
    var contextPath = "\x2Fqspserver";
    </script>
    <!DOCTYPE html>
    <html>
    <head>
    
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;jquery.min.js?v=3.4.0"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;bootstrap.min.js?v=3.3.6"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;plugins/bootstrap-table/bootstrap-table.min.js"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;plugins/bootstrap-table/locale/bootstrap-table-zh-CN.min.js"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;plugins/bootstrap-select/bootstrap-select.js"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;plugins/suggest/bootstrap-suggest.min.js"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;plugins/laydate5/laydate.js"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;jquery-formHelp.js"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;jquery.validate.js"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;layer/layer.js"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;swutils/swUtil.js?v=1.0.0"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;client.js"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;plugins/storage/jquery.storageapi.min.js"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;jquery.form.js"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;plugins/autocompleter/jquery.autocompleter.js?v=1.0.0"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;plugins/autocompleter/autocomp.js?v=1.0.0"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;modal.js"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;content.js?v=1.0.0"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;js&#x2f;enter.js"></script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <title>中国国际贸易单一窗口</title>
    
    
    
    <link href="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;css&#x2f;bootstrap.min.css?v=3.3.6" rel="stylesheet">
    <link
            href="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;css&#x2f;plugins/bootstrap-table/bootstrap-table.min.css"
            rel="stylesheet">
    <link
            href="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;css&#x2f;plugins/bootstrap-select/bootstrap-select.min.css"
            rel="stylesheet">
    <link href="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;css&#x2f;animate.css" rel="stylesheet">
    <link href="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;css&#x2f;style.css?v=4.1.0" rel="stylesheet">
    <link href="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;css&#x2f;font-awesome.css?v=4.4.0" rel="stylesheet">
    <link href="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;css&#x2f;need/laydate.css" rel="stylesheet">
    <link href="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;css&#x2f;skins/default/laydate.css" rel="stylesheet">
    
    <link href="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;css&#x2f;../js/layer/skin/default/layer.css"
            rel="stylesheet">
    
    <link href="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;static&#x2f;css&#x2f;../js/plugins/autocompleter/jquery.autocompleter.css" rel="stylesheet">
    
    <script src="https://swapp.singlewindow.cn:443/qspserver/static/wfUI/js/wfcore.js"></script>
    <script src="https://swapp.singlewindow.cn:443/qspserver/static/js/qsp/util/statistics.js"></script>
    <script src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;menuType?ver=20200919"></script>
    <style type="text/css">
    body{
            margin : 10px 10px 10px 10px !important;
    }
    .query-title {
            font-weight:bold;
            font-size: 15px;
    }
    .col-sm-12>.col-sm-3 {
            padding: 0 0 0 0 !important;
    }
    
    .col-sm-3>.itswLable {
            width: 30%;
    }
    
    .col-sm-3>.itswInput {
            width: 66.5%;
    }
    
    .content-area {
            width: 95%;
            margin: 20px 0 30px 20px;
            border: 2px #f5f5f5 solid;
            /* display:none; */
    }
    .description-bg{
            background-color: #F1F5FF;
            min-height: 15px; *+
            height: 15px;
            _height: 15px;
            padding: 0 0 0 20px;
    }
    
    #description-caret {
            position: relative;
            left: 98%;
            margin: 0 0 5px 0;
    }
    #description-title{
            font-weight: bold;
            color: #699EC2;
            margin:0 0 5px 10px;
    }
    #description-area{
            margin:0 0 5px 10px;
    }
    
    .checkbox-row {
            margin-top: 0px;
            padding-left: 20px;
    }
    
    .checkbox-label {
            display: inline-block;
            text-align: left;
    }
    
    .checkbox-content {
            display: inline-block;
            text-align: right;
    }
    .checkbox-content>input{
            margin-top: 3;
    }
    .radio-area{
            display: inline-block;text-align: left;padding-left: 20px;
    }
    .radio-label{
            display: inline-block;text-align: left;
    }
    .radio-content{
            display: inline-block;text-align: right;
    }
    .content-title {
            width: 120px;
            display: inline-block;
            _display: inline;
            *display: inline;
    }
    .content-title>div {
            position: absolute;
            display: inline-block
    }
    .content-title-text {
            text-align: center;
            margin:8px 0 0 20px;
            display: inline-block;
            width: 100px;
            height: 30px;
        line-height:30px;   
        overflow:hidden;   
            background-color : #6AADFF;
            vertical-align: middle;
            color: #FFFFFF;
            font-weight: bold;
        border-radius: 5px;
    }
    .pure-img{
            display: inline-block;
            background-repeat:no-repeat;
            background-image: none;
    }
    .display-image {
            position: relative;
            left: 20px;
            top: 30px;
            vertical-align: top;
            width: 15px;
            height: 15px;
    }
    #img-area{
            text-align : center;
    }
    .display-content {
            width: 76%;
            display: inline-block;
            _display: inline;
            *display: inline;
            /* border-left: 3px #999999 dotted; */
            margin-left: 7px;
            vertical-align: top;
            min-height: 100px; *+
            height: 100%;
            _height: 100px;
    }
    
    .display-dot {
            position: relative;
            display: inline-block;
            _display: inline;
            *display: inline;
            left: 6px;
            top: 45px;
            vertical-align: top;
            width: 6px;
            margin-top:5px;
            border-left:5px #999999 dotted;
    }
    
    .content-field {
            display: inline-block;
            _display: inline;
            *display: inline;
            margin: 10px 0 10px 15px;
            vertical-align: top;
    }
    
    .field-title {
            font-size:14px;
            font-weight: bold;
            color:#75A5C4;
    }
    
    .field-title-date {
            font-size:14px;
            font-weight: bold;
            color:#f8a912;
    }
    
    .field-time {
            margin-top:5px;
            color:#979797;
    }
    .field-text{
            margin-top:5px;
            font-weight: bold;
    }
    .field-order{
            margin-top:5px;
            font-weight: normal;
    }
    .field-text a{
            margin-top:5px;
            color:#000000;
    }
    .view-all-div {
            text-align:center;
            margin-top: 10px;
            margin:10px 0 10px 0;
            width: 100px;
            height: 25px;
        line-height:25px;   
        overflow:hidden;   
            background-color : #6AADFF;
            vertical-align: middle;
        border-radius: 5px;
    }
    .view-all-href{
            font-weight: bold;
            color:#FFFFFF;
    }
    .display-gray {
            background-color: #f5f5f5;
    }
    
    .tag {
            width: 150px;
            border: 1px solid #777;
            position: absolute;
            background-color: #FFF;
            display: none;
            z-index: 10;
        border-radius: 5px;
        font-weight: normal;
    }
    
    .arrow {
            position: absolute;
            width: 40px;
            height: 40px;
            bottom: -40px;
            left: 10px;
    }
    
    .arrow * {
            display: block;
            border-width: 10px;
            position: absolute;
            border-style: solid dashed dashed dashed;
            font-size: 0;
            line-height: 0;
    }
    
    .arrow em {
            border-color: #777 transparent transparent;
    }
    
    .arrow span {
            border-color: #FFF transparent transparent;
            top: -1px;
    }
    
    .div-inline{
            float:left;
    } 
    
    .span-text{
            width:80px;
    }
    </style>
    </head>
    
    <body>
            <div>
                    <span class="query-title">请输入查询条件：</span>
                    <div class="radio-area">
                            <div class="radio-content">
                                    <input type="radio" value="I" id="radio-import" name="type" >
                            </div>
                            <div class="radio-label">
                                    <label class="control-label">进口</label>
                            </div>
                            <div class="radio-content">
                                    <input type="radio" value="E" id="radio-export" checked name="type" checked>
                            </div>
                            <div class="radio-label">
                                    <label class="control-label">出口</label>
                            </div>
                    </div>
            </div>
            <div class="row itswRow"></div>
            <form id="queryForm" style="margin-bottom: 0px">
                    <div class="row itswRow">
                            <div class="col-sm-12">
                                    <div class="col-sm-3">
                                            <div class="itswLable  itswLable-top ">
                                                    <label class="control-label ">提运单号: </label>
                                            </div>
                                            <div class="itswInput condition">
                                                    <input type="text" class="form-control" name="billNo" id="billNo">
                                            </div>
                                    </div>
                                    <div class="col-sm-3">
                                            <div class="itswLable  itswLable-top ">
                                                    <label class="control-label ">集装箱号: </label>
                                            </div>
                                            <div class="itswInput condition">
                                                    <input type="text" class="form-control" name="contaId" id="contaId" style="text-transform: uppercase;" maxlength="11">
                                            </div>
                                    </div>
                                    <div class="col-sm-3">
                                            <div class="itswLable  itswLable-top ">
                                                    <label class="control-label ">报关单号: </label>
                                            </div>
                                            <div class="itswInput condition">
                                                    <input type="text" class="form-control" name="entryId" id="entryId" maxlength="18">
                                            </div>
                                    </div>
                            </div>
                            <div class="col-sm-12" style="margin-top:8px">
                                    <div class="col-sm-3">
                                            <div class="itswLable  itswLable-top ">
                                                    <label class="control-label ">运输工具名称: </label>
                                            </div>
                                            <div class="itswInput condition">
                                                    <input type="text" class="form-control" name="trspmcName" id="trspmcName" maxlength="256">
                                            </div>
                                    </div>
                                    <div class="col-sm-3">
                                            <div class="itswLable  itswLable-top ">
                                                    <label class="control-label ">航班/航次号: </label>
                                            </div>
                                            <div class="itswInput condition">
                                                    <input type="text" class="form-control" name="voyageNo" id="voyageNo" maxlength='17'>
                                            </div>
                                    </div>
                                    <div id="checkArea" class="col-sm-3">
                                            <div class="itswLable  itswLable-top">
                                                    <label class="control-label">验证码: </label>
                                            </div>
                                            <div class="itswInput" style="width: 33%">
                                                    <input type="text" id="randomcode" class="form-control" name="randomcode" size="8" maxlength="4"/>
                                            </div>
                                            <div class="itswInput" style="width: 32%">
                                                            <img id="verifyCode" src="https&#x3a;&#x2f;&#x2f;swapp.singlewindow.cn&#x3a;443&#x2f;qspserver&#x2f;/verifyCode/creator" >
                                            </div>
                                    </div>
                                    <div class="col-sm-3" style="padding-right: 0;">
                                            <div style="text-align: right;">
                                                    <button class="itswButton" type="button" id="queryExport">
                                                            <span class="fa fa-search"></span> &nbsp;&nbsp;查询
                                                    </button>
                                                    <button class="itswButton" type="button" id="resetExport">
                                                            <span class="fa fa-history"></span> &nbsp;&nbsp;重置
                                                    </button>
                                            </div>
                                    </div>
                            </div>
                    </div>
            </form>
            <div class="row itswRow"></div>
            <div class="col-sm-12">
                    <div class="row itswRow" class="checkbox-row">
                            <div class="checkbox-label">
                                    <label class="control-label">查看内容设置：</label>
                            </div>
                            <div class="checkbox-content">
                                    <input type="checkbox" id="transportCheckbox" value="trans" checked
                                            name="type" style="margin-top: 3;">
                            </div>
                            <div class="checkbox-label">
                                    <label class="control-label">运输工具</label>
                            </div>
                            <div class="checkbox-content">
                                    <input type="checkbox" id="manifestCheckbox" value="manifest" checked
                                            name="type" style="margin-top: 3;">
                            </div>
                            <div class="checkbox-label">
                                    <label class="control-label">舱单</label>
                            </div>
                            <div class="checkbox-content">
                                    <input type="checkbox" id="cusCheckbox" value="cus" checked
                                            name="type" style="margin-top: 3;">
                            </div>
                            <div class="checkbox-label">
                                    <label class="control-label">报关</label>
                            </div>
                            <div class="checkbox-content">
                                    <input type="checkbox" id="cpsCheckbox" value="cps" checked
                                            name="type">
                            </div>
                            <div class="checkbox-label">
                                    <label class="control-label">物流信息</label>
                            </div>
                    </div>
            </div>
            <div class="row itswRow" style="width:990px;text-align:center;margin:0 auto;">
                    <div id="img-area">
                            <div class="div-inline">
                                    <img src="" id="img-arriveSurveillance" class="pure-img">
                                    <div class="span-text"><span>运抵</span></div>
                            </div>
                            <div class="div-inline">
                                    <img src="" id="spacing-arriveSurveillance" class="spacing-img">
                            </div>
                <div class="div-inline">
                    <img src="" id="img-transitArrival" class="pure-img">
                    <div class="span-text"><span>转关运抵</span></div>
                </div>
                <div class="div-inline">
                    <img src="" id="spacing-transitArrival" class="spacing-img">
                </div>
                            <div class="div-inline">
                                    <img src="" id="img-cusDeclare" class="pure-img">
                                    <div class="span-text"><span>报关</span></div>
                            </div>
                            <div class="div-inline">
                                    <img src="" id="spacing-cusDeclare" class="spacing-img">
                            </div>
                <div class="div-inline">
                    <img src="" id="img-transit" class="pure-img">
                    <div class="span-text"><span>转关</span></div>
                </div>
                <div class="div-inline">
                    <img src="" id="spacing-transit" class="spacing-img">
                </div>
                            <div class="div-inline">
                                    <img src="" id="img-inspection" class="pure-img">
                                    <div class="span-text"><span>查验</span></div>
                            </div>
                            <div class="div-inline">
                                    <img src="" id="spacing-inspection" class="spacing-img">
                            </div>
                            <div class="div-inline">
                                    <img src="" id="img-release" class="pure-img">
                                    <div class="span-text"><span>放行</span></div>
                            </div>
                            <div class="div-inline">
                                    <img src="" id="spacing-release" class="spacing-img">
                            </div>
                            <div class="div-inline">
                                    <img src="" id="img-beforeCargoLoad" class="pure-img">
                                    <div class="span-text"><span>装船</span></div>
                            </div>
                            <div class="div-inline">
                                    <img src="" id="spacing-beforeCargoLoad" class="spacing-img">
                            </div>
                            <div class="div-inline">
                                    <img src="" id="img-tallyReport" class="pure-img">
                                    <div class="span-text"><span>理货</span></div>
                            </div>
                            <div class="div-inline">
                                    <img src="" id="spacing-tallyReport" class="spacing-img">
                            </div>
                            <div class="div-inline">
                                    <img src="" id="img-outgoingDeclare" class="pure-img">
                                    <div class="span-text"><span>离境</span></div>
                            </div>
                    </div>
            </div>
            <div class="content-area" id="queryDetail">
                    <div id="shipLeave" class="cps" style="display:none;">
                            <div class="content-title"><div><span class="content-title-text">离境-船舶离港</span></div></div>
                            <img src="" class="display-image">
                            <div class="display-dot"></div>
                            <div class="display-content"></div>
                    </div>
                    <div id="outgoingDeclare" class="transport cps" style="display:none;">
                            <div class="content-title"><div><span class="content-title-text">离境-出港单证</span></div></div>
                            <img src="" class="display-image">
                            <div class="display-dot"></div>
                            <div class="display-content"></div>
                    </div>
                    <div id="outgoingDynamics" class="transport" style="display:none;">
                            <div class="content-title"><div><span class="content-title-text">离境-出港动态</span></div></div>
                            <img src="" class="display-image">
                            <div class="display-dot"></div>
                            <div class="display-content"></div>
                    </div>
                    <div id="tallyReport" class="manifest" style="display:none;">
                            <div class="content-title"><div><span class="content-title-text">理货-出口理货</span></div></div>
                            <img src="" class="display-image">
                            <div class="display-dot"></div>
                            <div class="display-content"></div>
                    </div>
                    <div id="loadingFinish" class="cps" style="display:none;">
                            <div class="content-title"><div><span class="content-title-text">装船-装船完成</span></div></div>
                            <img src="" class="display-image">
                            <div class="display-dot"></div>
                            <div class="display-content"></div>
                    </div>
                    <div id="beforeCargoLoad" class="manifest cps" style="display:none;">
                            <div class="content-title"><div><span class="content-title-text">装船-装载舱单</span></div></div>
                            <img src="" class="display-image">
                            <div class="display-dot"></div>
                            <div class="display-content"></div>
                    </div>
                    <div id="shortshiped" class="manifest" style="display:none;">
                            <div class="content-title"><div><span class="content-title-text">装船-落装改配</span></div></div>
                            <img src="" class="display-image">
                            <div class="display-dot"></div>
                            <div class="display-content"></div>
                    </div>
                    <div id="release" class="dec-ciq dec-cus" style="display:none;">
                            <div class="content-title"><div><span class="content-title-text">放行</span></div></div>
                            <img src="" class="display-image">
                            <div class="display-dot"></div>
                            <div class="display-content"></div>
                    </div>
                    <div id="inspection" class="dec-ciq dec-cus" style="display:none;">
                            <div class="content-title"><div><span class="content-title-text">查验</span></div></div>
                            <img src="" class="display-image">
                            <div class="display-dot"></div>
                            <div class="display-content"></div>
                    </div>
            <div id="transit" class="dec-cus" style="display:none;">
                <div class="content-title"><div><span class="content-title-text">转关</span></div></div>
                <img src="" class="display-image">
                <div class="display-dot"></div>
                <div class="display-content"></div>
            </div>
                    <div id="cusDeclare" class="dec-cus" style="display:none;">
                            <div class="content-title"><div><span class="content-title-text">报关</span></div></div>
                            <img src="" class="display-image">
                            <div class="display-dot"></div>
                            <div class="display-content"></div>
                    </div>
            <div id="transitArrival" class="dec-cus" style="display:none;">
                <div class="content-title"><div><span class="content-title-text">转关运抵</span></div></div>
                <img src="" class="display-image">
                <div class="display-dot"></div>
                <div class="display-content"></div>
            </div>
                    <div id="arriveSurveillance" class="manifest" style="display:none;">
                            <div class="content-title"><div><span class="content-title-text">运抵-运抵报告</span></div></div>
                            <img src="" class="display-image">
                            <div class="display-dot"></div>
                            <div class="display-content"></div>
                    </div>
                    <div id="goodsarreived" class="manifest" style="display:none;">
                            <div class="content-title"><div><span class="content-title-text">运抵-货物运抵</span></div></div>
                            <img src="" class="display-image">
                            <div class="display-dot"></div>
                            <div class="display-content"></div>
                    </div>
                    <div id="beforeLoad" class="manifest" style="display:none;">
                            <div class="content-title"><div><span class="content-title-text">运抵-预配舱单</span></div></div>
                            <img src="" class="display-image">
                            <div class="display-dot"></div>
                            <div class="display-content"></div>
                    </div>
            </div>
            <div id="detail-info" style="display: none;">
            </div>
    </body>
    <script type="text/javascript">
    
    ieFlag = 'E';
    folderName = 'export';
    var getExportDataUrl = swProxyBasePath+"sw/qsp/query/biz/export";//查询时调用
    //前台展示顺序
    var exportSeq = {
                    beforeLoad:{//运抵-预配舱单
                            0:"e_mft2101_main",
                            1:"e_mft2201_main",//(新增20180419)
                            2:"e_mft2101_other",
                            3:"e_mft2201_other",//(新增20180419)
                            4:"e_mft2101_mod_apply",
                            5:"e_mft2201_mod_apply",//(新增20180419)
                            6:"e_mft2101_del",
                            7:"e_mft2201_del"//(新增20180419)
                    },
                    goodsarreived:{//运抵-货物运抵
                            0:"e_mct_goodarreived"
                    },
                    arriveSurveillance:{//运抵-运抵报告
                            0:"e_mft3101",
                            1:"e_mft3101_msg",//(新增20180731)
                            2:"e_mft3201",//(新增20180419)
                            3:"e_mft3201_msg",//(新增20180731)
                            4:"e_mft3101_del",
                            5:"e_mft3201_del"//(新增20180419)
                    },
                    ciqDeclare:{//报检
                            0:"e_ciq_decl"
                    },
            transitArrival:{//转关运抵
                        0:"eta_cus_ret"
            },
                    cusDeclare:{//报关
                            0:"e_cus_decl",
                            1:"e_record_list",
                            2:"e_trn_cus_decl",
                            3:"e_trn_record_list",
                            4:"e_mod_affirm",
                            5:"e_mod_apply",
                            6:"e_supply_retrans"
                            // 6:"trn_cus_ret"
                    },
            transit:{//转关
                        0:"trn_cus_ret"
            },
                    inspection:{//查验
                            0:"e_cus_inspect",
                            1:"e_ciq_inspect"
                    },
                    release:{//放行
                            0:"e_cus_clear",
                            1:"e_ciq_clear"
                    },
                    shortshiped:{//装船-落装改配
                            0:"e_mft8104",
                            1:"e_mft8204",//(新增20180419)
                            2:"e_mft8102",
                            3:"e_mft8202",//(新增20180419)
                            4:"e_mft8103",
                            5:"e_mft8203"//(新增20180419)
                    },
                    beforeCargoLoad:{//装船-装载舱单
                            0:"e_mft4101",
                            1:"e_mft4101_msg",//(新增20180731)
                            2:"e_mft4201",//(新增20180419)
                            3:"e_mft4201_msg",//(新增20180731)
                            4:"e_mft4101_del",
                            5:"e_mft4201_del"//(新增20180419)
                    },
                    loadingFinish:{//装船-装船完成
                            0:"e_mct_finish"
                    },
                    tallyReport:{//理货-出口理货
                            0:"e_mft5102",
                            1:"e_mft5102_msg",//(新增20180731)
                            2:"e_mft5202",//(新增20180419)
                            3:"e_mft5202_msg",//(新增20180731)
                            4:"e_mft5102_del",
                            5:"e_mft5202_del"//(新增20180419)
                    },
                    outgoingDynamics:{//离境-出港动态
                            0:"e_csm006_msa",
                            1:"e_csm006_cus",
                            2:"e_csm007_msa",
                            3:"e_csm007_cus",
                            4:"e_csm007_cus_date",//(出境确保离港时间,20190612新增)
                    },
                    outgoingDeclare:{//离境-出港单证
                            0:"e_csm101_msa",
                            1:"e_csm101_cus",
                            2:"e_csm101_ciq",
                            3:"e_csm101_cii",
                            4:"e_csm101_paa", // 出境/港单证申报-港务(新增20170907)
                            5:"csm151_cus", // 海关出境/港单证申报-出境申报单
                            6:"csm161_cus", // 海关出境/港单证申报-出港申报单
                            7:"csm151_msa", // 出境/港单证申报-海事
                            8:"csm151_cii" // 出境/港单证申报-边检
                    },
                    shipLeave:{//离境-船舶离港
                            0:"e_mct_canleave",//准许离境(新增20170907)
                            1:"e_mct_leave"
                    }
            };
    $(document).ready(function(){
            processPureImg();
            $("form input").blur(function(){
                    if(this.type != "checkbox"){
                            $(this).val($(this).val().trim());
                    }
            });
            randomcode_refresh();
    });
    $("#resetExport").click(function(){
            $("input[type='text']").val("");
            resetResult();
        randomcode_refresh();
    });
    $("#verifyCode").on('click',function(){
        randomcode_refresh();
    });
    
    //刷新验证码
    function randomcode_refresh() {
        // $.ajax({
        //  url:swProxyBasePath+'sw/qsp/query/biz/checkCode?time=' + new Date().getTime(),
        //  type:"get",
        //  dataType:"json",
        //  async: true,
        //  contentType: "application/json;charset=utf-8",
        //  success:function(json){
        //          $("#randomcode_img").attr('src',json);
        //  },
        //
        // });
        _this =this;
        var url = $("#verifyCode")[0].src+"?"+((new Date()).valueOf());
        $("#verifyCode").attr("src",url);
    }
    $("#radio-import").click(function(){
            window.location.href = swProxyBasePath+'sw/qsp/query/view/import?ngBasePath='+swProxyBasePath;
    });
    $("#queryExport").click(function(){
            if(!customValid())
                    return false;
            loadingIndex = layer.load(1, {shade: [0.1,'#000']}); //loading层
            if(!conditionChk()){
                    layer.close(loadingIndex);
                    return false;
            }
            resetResult();//清空查询结果
            //发送提交请求
            queryExportDetail(true);
            $("#randomcode").val("");//清空动态码
    });
    
    function queryExportDetail(flag){
            $.ajax({
                    url:getExportDataUrl,
                    type:"POST",
                    dataType:"json",
                    async: true,
                    timeout:300000,
                    data :  JSON.stringify($("#queryForm").serializeJson()),
                    contentType: "application/json;charset=utf-8",
                    success:function(json){
                        json = JSON.parse(loadMenuTypeStr(json));
                            if(!!json && !!json.data && !!json.data.data && !isEmptyObject(json.data.data)){
                                    if(!!json.data.data.ciqDeclare){
                                            json.data.data.cusDeclare.e_ciq_decl=json.data.data.ciqDeclare.e_ciq_decl;
                                    }
                                    processData(json.data.data,exportSeq);
                                    if(json.errorCode==="rpctips")
                                            showLayerAlert("该报关单对应的提运单有多个分运单，请输入完整的提运单号做精确查询。",7);
                            }else if(flag){
                                if(json.errorCode==="check2"){
                                    showResponseError(json,"温馨提示：验证码输入错误");
                                }else if(json.errorCode==="check1"){
                                    showResponseError(json,"验证码无效，请点击刷新验证码。");
                                }else if(json.errorCode==="rpcerror"){
                                    showResponseError(json,"温馨提示：");
                                }else{
                                    showResponseError(json,"温馨提示：没有符合条件的数据！");
                                }
                            }
                            randomcode_refresh();
                            layer.close(loadingIndex);
                    },
                    error : function(json) {
                            if(flag){
                                    layer.alert("温馨提示：没有符合条件的数据"); 
                            }
                            randomcode_refresh();
                            layer.close(loadingIndex);
                    }
            });
    }
    
    function processPureImg(){
            $('.pure-img').each(function(index,imgEle){
                    $(imgEle).attr("src",swProxyBasePath + 'static/img/light/' + folderName + '/' + imgEle.id.replace('img-','') + '.png');
            });
            $('.spacing-img').attr("src",swProxyBasePath + 'static/img/light/point.png');
    }
    
    //查询条件校验函数
    //billNo 提运单号
    //contaId 集装箱号
    //entryId 报关单号
    //entDeclNo 报检单号
    //trspmcName 运输工具名称
    //voyageNo 航班/航次号
    function conditionChk(){
            var reg = /^[\dA-Za-z]+$/;
            if(!$("#billNo").val() && !$("#contaId").val() && !$("#entryId").val() && !$("#trspmcName").val() && !$("#voyageNo").val()){
                    layer.alert('温馨提示：请先输入查询条件！', {
                icon: 7,
                title: '提示'
            });
                    return false;
            }else if(!$("#billNo").val() && !!$("#contaId").val() && !$("#entryId").val() && !$("#trspmcName").val() && !$("#voyageNo").val()){
                    layer.alert('温馨提示：集装箱号必须和提运单号关联输入！', {
                icon: 7,
                title: '提示'
            });
                    return false;
            }else if(!(!!$("#trspmcName").val() && !!$("#voyageNo").val() || !$("#trspmcName").val() && !$("#voyageNo").val())){
                    layer.alert('温馨提示：运输工具名称和航班/航次号必须同时输入！', {
                icon: 7,
                title: '提示'
            });
                    return false;
            }else if(!!$("#entryId").val()){
                    var entryId = $('#entryId').val();
                    if(entryId.charAt(8) != 0){
                            layer.alert('温馨提示：您输入的报关单号不是出口类别，请转至进口功能中查询！', {
                        icon: 7,
                        title: '提示'
                    });
                            return false;
                    }
            }else if($("#contaId").val()&&!reg.test($("#contaId").val())){
                    layer.alert('温馨提示：您输入的集装箱号包含特殊字符，请输入数字或字母！', {
                            icon: 7,
                            title: '提示'
                    });
                    return false;
            }
            return true;
    }
    
    </script>
    <script src="https://swapp.singlewindow.cn:443/qspserver/static/js/enter.js"></script>
    
    </html>